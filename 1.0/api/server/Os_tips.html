<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Os_tips </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script><script src="/js/client.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_tips">Os_tips</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Os_tips</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_tips">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Tips for new users and new features.
</p><hr/><pre class="ocsforge_color odocwiki_code" id="VALbubble"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">bubble</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?a:</span>[&lt; <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">div_attrib</span> &gt; `Class ] <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">D</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attrib</span><br/>     list <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?recipient:</span>[&gt; `All | `Connected | `Not_connected ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?arrow:</span>[&lt; `bottom of int | `left of int | `right of int | `top of int ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?top:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?left:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?right:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?bottom:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?height:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?width:</span>int <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?parent_node:</span>[&lt; `A of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_interactive</span><br/>                | `Abbr<br/>                | `Address<br/>                | `Article<br/>                | `Aside<br/>                | `Audio of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_media</span><br/>                | `Audio_interactive of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_media</span><br/>                | `B<br/>                | `Bdo<br/>                | `Blockquote<br/>                | `Body<br/>                | `Br<br/>                | `Button<br/>                | `Canvas of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Cite<br/>                | `Code<br/>                | `Command<br/>                | `Datalist<br/>                | `Del of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Details<br/>                | `Dfn<br/>                | `Div<br/>                | `Dl<br/>                | `Em<br/>                | `Embed<br/>                | `Fieldset<br/>                | `Figure<br/>                | `Footer<br/>                | `Form<br/>                | `H1<br/>                | `H2<br/>                | `H3<br/>                | `H4<br/>                | `H5<br/>                | `H6<br/>                | `Header<br/>                | `Hgroup<br/>                | `Hr<br/>                | `I<br/>                | `Iframe<br/>                | `Img<br/>                | `Img_interactive<br/>                | `Input<br/>                | `Ins of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Kbd<br/>                | `Keygen<br/>                | `Label<br/>                | `Main<br/>                | `Map of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Mark<br/>                | `Menu<br/>                | `Meter<br/>                | `Nav<br/>                | `Noscript of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_noscript</span><br/>                | `Object of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Object_interactive of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5</span><br/>                | `Ol<br/>                | `Output<br/>                | `P<br/>                | `PCDATA<br/>                | `Pre<br/>                | `Progress<br/>                | `Q<br/>                | `Ruby<br/>                | `Samp<br/>                | `Script<br/>                | `Section<br/>                | `Select<br/>                | `Small<br/>                | `Span<br/>                | `Strong<br/>                | `Style<br/>                | `Sub<br/>                | `Sup<br/>                | `Svg<br/>                | `Table<br/>                | `Textarea<br/>                | `Time<br/>                | `U<br/>                | `Ul<br/>                | `Var<br/>                | `Video of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_media</span><br/>                | `Video_interactive of <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">flow5_without_media</span><br/>                | `Wbr ]<br/>               <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span><span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>           <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">div_content</span> <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span><br/>          <span class="ocsforge_color_uid">Eliom_client_value</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Display tips in pages, as a speech bubble.
</p><p>One tip is displayed at a time.
</p><p>Tips can be inserted in page using function <span class="odocwiki_inlinecode">display</span>,
that may be called anywhere during the generation of a page.
The tip will be actually sent and displayed on client side
only if the user has not already seen it.
</p><ul><li> <span class="odocwiki_inlinecode">~name</span> is a unique name you must choose for your tip
</li><li> <span class="odocwiki_inlinecode">?arrow</span> is the position of the arrow if you want one
</li><li> <span class="odocwiki_inlinecode">?top</span>, <span class="odocwiki_inlinecode">?bottom</span>, <span class="odocwiki_inlinecode">?left</span>, <span class="odocwiki_inlinecode">?right</span>, <span class="odocwiki_inlinecode">?width</span>, <span class="odocwiki_inlinecode">?right</span> correspond
to the eponymous CSS properties.
</li><li> <span class="odocwiki_inlinecode">~content</span> takes the function closing the tip as parameter
and return the content of the tip div.
</li><li> <span class="odocwiki_inlinecode">?recipient</span> makes it possible to decide whether the tip will be displayed
for connected users only, non-connected users only, or all (default).
Tips for non-connected users will reapear everytime the session is closed.</li></ul></div><pre class="ocsforge_color odocwiki_code" id="VALblock"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">block</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">?a:</span>[&lt; <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">div_attrib</span> &gt; `Class ] <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">D</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">attrib</span><br/>     list <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">?recipient:</span>[&gt; `All | `Connected | `Not_connected ] <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">name:</span>string <span class="ocsforge_color_delimiter">-&gt;</span><br/>  <span class="ocsforge_color_label">content:</span><span class="ocsforge_color_delimiter">(</span><span class="ocsforge_color_delimiter">(</span>unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_uid">Eliom_client_value</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>           <span class="ocsforge_color_uid">Html_types</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">div_content</span> <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span><span class="ocsforge_color_delimiter">)</span> <span class="ocsforge_color_delimiter">-&gt;</span><br/>  unit <span class="ocsforge_color_delimiter">-&gt;</span> [&gt; `Div ] <span class="ocsforge_color_uid">Eliom_content</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_uid">Html</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">elt</span> option <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Return a box containing a tip, to be inserted where you want in a page.
The box contains a close button. Once it is closed, it is never displayed
again for this user. In that case the function returns <span class="odocwiki_inlinecode">None</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALreset_tips"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">reset_tips</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call this function to reset tips for current user.
Tips will be shown again from the beginning.</p></div><pre class="ocsforge_color odocwiki_code" id="VALset_tip_seen"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">set_tip_seen</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Call this function to mark a tip as &quot;already seen&quot; by current user.
This is done automatically when a tip is closed.</p></div><pre class="ocsforge_color odocwiki_code" id="VALreset_tips_service"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">reset_tips_service</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_delimiter">(</span>unit, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">post</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_att</span>,<br/>   <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">co</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_ext</span>, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">reg</span>,<br/>   [ `WithoutSuffix ], unit, unit, <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">non_ocaml</span><span class="ocsforge_color_delimiter">)</span><br/>  <span class="ocsforge_color_uid">Eliom_service</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>A non-attached service that will reset tips.
Call it with <span class="odocwiki_inlinecode">Eliom_client.exit_to</span> to restart the application and
see tips again.</p></div></body></html>
