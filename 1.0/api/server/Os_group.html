<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Module Os_group </title><meta charset="utf8"/><link rel="stylesheet" href="/css/style.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/themes/prism.min.css"/><script src="/client.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-ocaml.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-clike.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-reason.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.9.0/components/prism-javascript.min.js"></script></head><body><h1>Module <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_group">Os_group</a></span> </h1><pre class="ocsforge_color odocwiki_code"><span class="ocsforge_color_keyword">module</span> <span class="ocsforge_color_uid"><span class="ocsforge_color_uid">Os_group</span></span> <span class="ocsforge_color_delimiter">:</span> <span class="ocsforge_color_keyword">sig</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_group">..</a></span><span class="ocsforge_color_keyword">end</span></pre><p>Groups of users.
Groups are sets of users. Groups and group members are saved in database.
Groups are used by OS for example to restrict access to pages or
server functions.
</p><hr/><pre class="ocsforge_color odocwiki_code" id="EXCEPTIONNo_such_group"><span class="ocsforge_color_keyword">exception</span> <span class="odocwiki_name">No_such_group</span></pre><div class="odocwiki_info"><p>Exception raised when no there is no group corresponding to the request (for
example wrong ID or name).</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEid"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">id</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEid">Os_types.Group.id</a></span></span></pre><div class="odocwiki_info"><p>Type alias to <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEid">Os_types.​Group.​id</a></span> to allow to use <span class="odocwiki_inlinecode">Os_group.id</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="TYPEt"><span class="ocsforge_color_keyword">type</span> <span class="odocwiki_name">t</span> <span class="ocsforge_color_delimiter">=</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span></span>  <span class="ocsforge_color_delimiter">=</span> <span class="ocsforge_color_delimiter">{</span>
<span class="odocwiki_record"><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">id:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_group#TYPEid">id</a></span></span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">name:</span> <span class="odocwiki_type">string</span><span class="ocsforge_color_delimiter">;</span></span></span><span class="odocwiki_field"><span class="odocwiki_field_descr">  <span class="ocsforge_color_label">desc:</span> <span class="odocwiki_type">string option</span><span class="ocsforge_color_delimiter">;</span></span></span></span><span class="ocsforge_color_delimiter">}</span></pre><div class="odocwiki_info"><p>Type alias to <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.​Group.​t</a></span> to allow to use <span class="odocwiki_inlinecode">Os_group.t</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALid_of_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">id_of_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEid">Os_types.Group.id</a></span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">id_of_group group</span> returns the group ID.</p></div><pre class="ocsforge_color odocwiki_code" id="VALname_of_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">name_of_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">name_of_group group</span> returns the group name.</p></div><pre class="ocsforge_color odocwiki_code" id="VALdesc_of_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">desc_of_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> string option</span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">desc_of_group group</span> returns the group description.</p></div><pre class="ocsforge_color odocwiki_code" id="VALcreate"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">create</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><span class="ocsforge_color_label">?description:</span>string <span class="ocsforge_color_delimiter">-&gt;</span> string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">create ~description name</span> creates a new group in the database and returns
it as a record of type <span class="odocwiki_inlinecode">Os_types.Group.t</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALgroup_of_name"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">group_of_name</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">string <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p>Overwrites the function <span class="odocwiki_inlinecode">group_of_name</span> of <span class="odocwiki_inlinecode">Os_db.Group</span> and use
the <span class="odocwiki_inlinecode">get</span> function of the cache module.</p></div><pre class="ocsforge_color odocwiki_code" id="VALadd_user_in_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">add_user_in_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">group:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">userid:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.User#TYPEid">Os_types.User.id</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">add_user_in_group ~group ~userid</span> adds the user with ID <span class="odocwiki_inlinecode">userid</span> to
<span class="odocwiki_inlinecode">group</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALremove_user_in_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">remove_user_in_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">group:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">userid:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.User#TYPEid">Os_types.User.id</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> unit <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">remove_user_in_group ~group ~userid</span> removes the user with ID <span class="odocwiki_inlinecode">userid</span> from
<span class="odocwiki_inlinecode">group</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALin_group"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">in_group</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type"><br/>  <span class="ocsforge_color_label">group:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> <span class="ocsforge_color_label">userid:</span><span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.User#TYPEid">Os_types.User.id</a></span> <span class="ocsforge_color_delimiter">-&gt;</span> bool <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">in_group ~group ~userid</span> returns <span class="odocwiki_inlinecode">true</span> if the user with ID <span class="odocwiki_inlinecode">userid</span> is in
<span class="odocwiki_inlinecode">group</span>.</p></div><pre class="ocsforge_color odocwiki_code" id="VALall"><span class="ocsforge_color_keyword">val</span> <span class="odocwiki_name">all</span> <span class="ocsforge_color_delimiter">:</span> <span class="odocwiki_type">unit <span class="ocsforge_color_delimiter">-&gt;</span> <span><a class="ocsforge_doclink_ocsigen-start" href="/ocsigen-start/1.0/api/server/Os_types.Group#TYPEt">Os_types.Group.t</a></span> list <span class="ocsforge_color_uid">Lwt</span><span class="ocsforge_color_delimiter">.</span><span class="ocsforge_color_lid">t</span></span></pre><div class="odocwiki_info"><p><span class="odocwiki_inlinecode">all ()</span> returns all the groups of the database.</p></div></body></html>
